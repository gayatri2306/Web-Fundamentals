<!DOCTYPE html>
<html lang="en">

<head>

    <title>JavaScript Scope and Functions</title>
    <style>
        body {
            font-family: sans-serif;
            background: #eef2f3;
            padding: 40px;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            max-width: 500px;
            margin: auto;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .output {
            background: #333;
            color: #0f0;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-family: monospace;
            min-height: 50px;
        }

        button {
            width: 100%;
            padding: 10px;
            background: #6200ea;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <div class="card">
        <h2>Scope & Function Demo</h2>
        <p>Check the box below and click the button to see how <strong>const</strong>, <strong>let</strong>, and
            <strong>functions</strong> work together.
        </p>

        <input type="number" id="userInput" placeholder="Enter a limit (e.g. 5)">
        <button onclick="mainController()">Run Demonstration</button>

        <div class="output" id="display">Results will appear here...</div>
    </div>

    <script>
        // 1. CONST: Global scope - This value never changes
        const APP_NAME = "LogicDemo v1.0";

        // 2. USER-DEFINED FUNCTION (The "Brain")
        function calculateSquare(number) {
            return number * number; // Returns a value to whoever called it
        }

        // 3. MAIN INVOKER FUNCTION
        function mainController() {
            // LET: Block-scoped to this function
            let inputVal = document.getElementById('userInput').value;
            let display = document.getElementById('display');
            let finalHtml = `<strong>Running ${APP_NAME}</strong><br>`;

            if (inputVal === "") {
                display.innerHTML = "Please enter a number first!";
                return;
            }

            // 4. SCOPE DEMONSTRATION IN A LOOP
            for (let i = 1; i <= inputVal; i++) {
                // 'i' is only visible inside this loop

                // INVOKING our user-defined function
                let square = calculateSquare(i);

                // VAR: Function-scoped (visible anywhere inside mainController)
                var lastCalculated = square;

                finalHtml += `Square of ${i} is ${square}<br>`;
            }

            // Demonstration of Scope:
            // console.log(i); // This would FAIL (i is block-scoped to the loop)
            console.log("Last square was: " + lastCalculated); // This WORKS because var "leaks" out of the loop

            display.innerHTML = finalHtml;
        }
    </script>

</body>

</html>